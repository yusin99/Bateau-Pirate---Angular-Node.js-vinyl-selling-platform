<div class="container">
  <!-- WHEN THE CART IS EMPTY -->
  <div class="text-center my-5" *ngIf="cartData.data[0].numInCart === 0">
    <h4>Your cart is Empty</h4>
    <button class="btn btn-primary btn-lg mt-3" routerLink="/">
      GO TO SHOP
    </button>
  </div>

  <!-- WHEN THE CART HAS ITEMS -->
  <ng-container *ngIf="cartData.data[0].numInCart !== 0">
    <div class="row">
      <div class="col-md-12">
        <table class="table">
          <thead class="table-dark">
            <tr class="text-center">
              <th>Image</th>
              <th>Title</th>
              <th>Price</th>
              <th>Quantity</th>
              <th>Subtotal</th>
              <th>Disponible</th>
            </tr>
          </thead>

          <tbody>
            <tr *ngFor="let c of cartData.data; let i = index">
              <td class="d-flex align-items-center justify-content-around">
                <img
                  src="assets/img/{{ c.product.photo }}"
                  alt="{{ c.product.nomVinyl }}"
                  height="60px"
                  class="order-1"
                />
                <span class="text-danger"
                  ><i
                    class="fa fa-trash m-4"
                    (click)="cartService.DeleteProductFromCart(i)"
                    style="cursor: pointer; height: 50px"
                  ></i
                ></span>
              </td>
              <td>
                <p>{{ c.product.nomVinyl }}</p>
              </td>
              <td>
                <p>{{ c.product.prixHT | currency: "EUR" }}</p>
              </td>
              <td>
                <form action="">
                  <div
                    *ngIf="c.numInCart === 1"
                    class="value-button"
                    id="decrease"
                    (click)="cartService.DeleteProductFromCart(i)"
                  >
                    <i class="fa fa-trash"></i>
                  </div>

                  <div
                    *ngIf="c.numInCart > 1"
                    class="value-button"
                    id="decrease"
                    (click)="changeQuantity(i, false)"
                  >
                    <i class="fa fa-minus"></i>
                  </div>

                  <input
                    type="number"
                    id="number"
                    [value]="c.numInCart"
                    readonly
                    max="{{ c.product.quantite_dispo }}"
                  />

                  <div
                    class="value-button"
                    id="increase"
                    (click)="changeQuantity(i, true)"
                  >
                    <i class="fa fa-plus"></i>
                  </div>
                  <p
                    class="text-danger"
                    *ngIf="c.numInCart === 1"
                    style="font-size: 10px"
                  >
                    Attention. If you reduce one more you will delete the item
                    from cart
                  </p>
                </form>
              </td>
              <td>
                <p>{{ cartService.CalculateSubTotal(i) | currency: "EUR" }}</p>
              </td>
              <td>Disponible: {{ c.product.quantite_dispo }}</td>
            </tr>
            <tr class="border-0">
              <td style="border: none"></td>
              <td></td>
              <td></td>
              <td>TOTAL</td>
              <td>{{ cartTotal | currency: "EUR" }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </ng-container>
</div>
